# 编程规范

 [打开文件所在的位置](./)

---

为统一大家的编程风格，现制定以下编程规范。

> [!NOTE]
>
> 这些编程规范都只是**建议**，不遵循并不会直接导致报错。

## 命名

- 能清晰的表达意图，避免使用单个字母、未成惯例的缩写来命名

- 使用正确的英文单词并符合英文语法，不要使用中文拼音

- 类名、枚举名采用 UpperCamelCase 风格，例如：

    ```python
    class MyClass:
        pass
    ```

- 变量名、方法名、参数名采用蛇形风格，例如：

    ```python
    my_variable = 1
    
    def my_func:
        pass
    ```

- 常量名、枚举值名采用全部大写，单词间使用下划线隔开，例如：

    ```python
    MAX_USER_SIZE = 10000
    ```

## 格式

- 使用空格缩进，4个空格为一层，不使用tab字符

- 多个变量定义和赋值语句不允许写在一行

    **【反例】**

    ```python
    x = 1; y = 2
    ```

    **【正例】**

    ```python
    x = 1
    y = 2
    ```

- 空格的使用：

    1. 在函数定义和调用时，函数名称与参数列表的左括号`(`之间不加空格。

    2. 二元操作符（`+` `-` `*` `=` `< >` `<=` `>=`）前后加空格。

    3. 数组、元组、集合、字典字面量中的逗号和函数中多个参数之间的逗号后加空格。

    4. 在逗号（`,`）、冒号（`:`）之前不加空格。

    5. 数组的中括号（`[]`），元组的小括号（`()`），集合、字典的大括号（`{}`）内侧不要加空格。

    6. 不要出现多个连续空格。在某行中，多个空格若不是用来作缩进的，通常是个错误。

- 字符串使用双引号

- 行末不需要分号（`;`）

- 函数签名中，参数超过4个，需要换行：

    ```python
    def func(
        param1,
        param2,
        param3,
        param4,
        param5
    ):
        pass
    ```

- 调用函数时，若传入的关键字参数超过4个，需要换行：

    ```python
    func(
        param1 = 1,
        param2 = 2,
        param3 = 3,
        param4 = 4,
        param5 = 5
    )
    ```

## 编程实践

- 不建议省略浮点数小数点前后的`0`

- 在函数签名中，为参数和返回值添加类型注释：

    ```python
    def add(x: int, y: int) -> int:
        return x + y
    ```

- import 顺序：

    ```python
    # 1️⃣ 标准库（Python内置）
    import os
    import sys
    from typing import List
    
    # 2️⃣ 第三方库（pip install的）
    from fastapi import FastAPI
    import requests
    
    # 3️⃣ 本地模块（你自己的）
    from . import models
    from .utils import helper
    ```

    - 每组之间空一行
    - 每组内部按模块名字典序排序（方便找）
    - 绝对导入 > 相对导入（除非在包内部）

